<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en" dir="ltr">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" type="text/css" href="../help.css" />
        <title>TA GUI : Main window : Display panel</title>
    </head>
    <body>
		<h1>Display settings</h1>
		<p class="intro">
			The display panel is currently by far the most complex single panel of the main GUI window, divided into six pages (subpanels), each dealing with a related subset of display-related settings.
		</p>
		<h2>Page 1: Axis labels and limits</h2>
		<p>
			Both axis labels and axis limits can be set manually for all three axes.
		</p>
		<p>
			The axis labels can be determined from the currently active dataset (if possible), the axis limits are normally set to "automatic", meaning that they are optimised to fit all currently visible datasets into the axes.
		</p>
		<p>
			<strong>Please note:</strong> If you set the unit of an axis to the empty string, the "/" between measure and unit will not get displayed. And if you set both measure and unit to the empty string, nothing will be displayed as axis label. Furthermore, as it is standard in the sciences, measure and unit get separated by the "/", and the measure is set in italics (although not visible for the x axis if displayed under Mac OS X, that's a Matlab/Mac bug), whereas the unit is always upright. You can use all the usual TeX/LaTeX expressions for the axis labels, such as greek letters.
		</p>
		<h2>Page 2: Grid and legend</h2>
		<h3>Grid</h3>
		<p>
			A zero line is displayed by default in case of the 1D representations (but not for the 2D display), grids in x and y direction can be added independently, and the minor grid can be added (simultaneously for both axes).
		</p>
		<p>
			In this particular case, x and y refers to the abscissa and ordinate of the current display, not to the x, y, and z dimensions of the dataset, as everywhere else.
		</p>
		<h3>Zero line settings</h3>
		<p>
			This panel gives further control over the appearance of the zero line. The <key>Default</key> button restores the default values as provided by the configuration file.
		</p>
		<h3>Legend</h3>
		<p>
			Legends are only displayed in 1D mode. You can determine the legend position manually (NW, NE, SW, SE) or let Matlab&trade; determine what it thinks is the "optimal" position.
		</p>
		<p>
			The box and font settings of the legend can be set as well with the controls provided in the panel "Legend style".
		</p>
		<p>
			<strong>Please note:</strong> You can move the legend with your mouse to any arbitrary position within the axes. But be aware that the size and position of the legend might change if you export the current display to a file.
		</p>
		<h2>Page 3: Line settings</h3>
		<p>
			To distinguish between different (visible) datasets, the line settings of each dataset can be controlled as far as Matlab&trade; allows to do so, meaning line colour, width, style, and marker.
		</p>
		<p>
			<strong>Please note:</strong> If "highlight currently active" is switched on, it will most probably interfere with the settings. Therefore, if the line settings seem not to work properly, you should switch of the highlighting as a first step.
		</p>
		<p>
			To show only the (unconnected) data points, set "Style" to none and choose from one of the "Markers".
		</p>
		<p>
			<strong>Tip:</strong> Especially if you want to display several lines at once, it is very helpful to use different colours and probably marker settings. In combination with the legend, you can produce figures that are at least directly useful for presentations. The label of the datasets will be used in the legend as well, so adjust them to your needs.
		</p>
		<h2>Page 4: Export figure & 1D datasets</h2>
		<p>
			What is a GUI worth that does not allow to save the current display in an easy way to a file?
		</p>
		<h3>Export figure</h3>
		<p>
			To export the current display to a file, choose the file type (currently Matlab(r) FIG, EPS, PDF, PNG) and hit "Export".
		</p>
		<p>
			The "Format" popupmenu allows to specify a format (aspect ratio, size of the graphics) that makes it easier to use the saved figures, e.g., in reports. These formats can be fully customised using the "fig2file.ini" file in the same directory as the "fig2file" function.
		</p>
		<h3>Export 1D data</h3>
		<p>
			This function allows the user to save the currently active 1D dataset as ASCII data, mainly for further analysis and processing in other software.
		</p>
		<h2>Page 5: 3D display</h2>
		<p>
			A 3D representation of 2D datasets (with intensity as third dimension) is sometimes used for an overview of a given 2D dataset. The 3D display panel allows the user to generate such datasets, that are normally restricted in their resolution (as a full 200x500 point or even larger dataset will be quite huge and slow in display).
		</p>
		<p>
			Furthermore, these 3D views can be exported in the same way as the main display. To export the current 3D display to a file, choose the file type (currently Matlab(r) FIG, EPS, PDF, PNG) and hit "Export".
		</p>
		<p>
			<strong>Please note:</strong> If you just hit "Export" without having an actual 3D display window, no figure will be exported.
		</p>
		<p>
			The "Format" popupmenu allows to specify a format (aspect ratio, size of the graphics) that makes it easier to use the saved figures, e.g., in reports. These formats can be fully customised using the "fig2file.ini" file in the same directory as the "fig2file" function.
		</p>
		<h2>Page 6: Thresholds, Normalize, Highlighting, AVG</h2>
		<h3>Thresholds</h3>
		<p>
			Allow to set a threshold in y (on a per dataset basis).
		</p>
		<h3>Normalise</h3>
		<p>
			As signal intensity of TREPR spectra depends in a far from straightforward way on a couple of both experimental (i.e., related to the current setup) and inherent (overlap and thus cancellation of absorptive and emissive lines in the spectrum) parameters, it normally cannot be used for quantitative analysis of the spectra.
		</p>
		<p>
			Therefore, to directly compare, e.g., the decay of two different time traces, or the shape of two different spectra, normalisation of the datasets is quite helpful.
		</p>
		<p>
			The two different types of normalisation provided with the GUI here is peak-peak and amplitude normalisation, whereas the former sets the complete peak-to-peak-amplitude to one, the latter the amplitude measured between zero and maximum.
		</p>
		<h3>Highlight of current dataset</h3>
		<p>
			To be able to distinguish between the currently active and other visible datasets, by default the currently active dataset is highlighted with blue colour, with all other datasets displayed with black lines.
		</p>
		<p>
			Here, both method and value for the given method of highlighting can be controlled, and one can switch off the highlighting completely. The latter is of special interest for exporting figures, where no highlighting of the "currently active dataset" is necessary, and indeed rather confusing.
		</p>
		<h3>AVG settings</h3>
		<p>
			Suppose that you have averaged your data in one dimension and want to display the standard deviation as error bars. That can be done by ticking "Std deviation" in this panel.
		</p>
		<h2>Page 7: Magnetic field effect (MFE)</h2>
		<p>
			A special feature only used for a minority of TA data is the handling of measurements of the magnetic field effect (MFE). In this case, TA time traces have been recorded both without and with a static field applied.
		</p>
		<p>
			The "MFE" panel lets you perform the usual tasks on those data, such as showing the MF spectra (i.e. the data recorded with static magnetic field), subtracting traces from each other such as to show the MFE itself, or, in case of a very weak MFE, adding both traces (MF and w/o MF) together to enhance S/N.
		</p>
		<h3>MFE display type</h3>
		<p>
			This menu determines what is shown. In case of MFE data, i.e. data that were recorded both with an external magnetic field (MF) switched on (MFon) and without such a field (MFoff), there are three traces that can be shown:
		</p>
		<dl>
			<dt>MFoff</dt>
			<dd>Default, just the data without external magnetic field are shown.</dd>
			<dt>MFon</dt>
			<dd>Just the data recorded with external magnetic field switched on are shown.</dd>
			<dt>DeltaMF</dt>
			<dd>Just the difference between MFoff and MFon is shown. This is called the "MFE action spectrum".</dd>
		</dl>
		<p>
			Additionally, there are two sensible permutations of several traces being shown at the same time:
		</p>
		<dl>
			<dt>MFoff + MFon</dt>
			<dd>Showing both the MFoff and the MFon trace.</dd>
			<dt>MFoff + MFon + DeltaMF</dt>
			<dd>Showing all three independent traces, MFoff, MFon, and the difference trace DeltaMF.</dd>
		</dl>
		<p>
			<strong>Hint:</strong> If you feel that these two permutations are not enough, there is a simple way to achieve any possible display of different traces - simply duplicate datasets (using the "Duplicate" button in the "Display" panel) and set the MFE display mode for each of these datasets according to your needs.
		</p>
		<p>
			As a last, rather special case, there is the possibility to add MFoff and MFon data together for a better signal-to-noise ratio. This is achieved with the display mode
		</p>
		<dl>
			<dt>sum(MFoff,MFon)</dt>
			<dd>Only the sum of MFoff and MFon trace is shown.</dd>
		</dl>
		<h3>Line settings</h3>
		<p>
			Normally, the line settings are controlled via the "Display" panel (third page). Still, you can set there the settings that apply only for the MFoff trace (as this is the trace that's there with every sort of TA data).
		</p>
		<p>
			For the MFE data, you can control the line settings for each of the traces separately.
		</p>
		<p>
			<strong>Note:</strong> Be aware that the settings in the "Display" panel only apply to the MFoff trace. Therefore, don't be surprised if you change there something and nothing happens due to having the MFE display mode set to not showing the MFoff trace.
		</p>
		<h3>Calculate MFE</h3>
		<p>
			To calculate the absolute MFE, normally the following formula is used:
		</p>
		<p>
			<img src="formula-mfe-1.png" height="40" />
		</p>
		<p>
			Due to possible issues with very noisy datasets where taking the absolute of the MFon trace would cause problems, a slightly altered version of the above formula is used that gives as well the correct sign of the MFE:
		</p>
		<p>
			<img src="formula-mfe-2.png" height="40" />
		</p>
		<p>
			The MFE may also be calculated as a function of time: at any time t the instantaneous MFE can be calculated as the ratio of DeltaDeltaA(B,t) and DeltaA(0 mT,t). However, for noisy data, or at points where DeltaA(0 mT,t) is close to zero, this can lead to large variations in the calculated MFE. Therefore, use of time-averaged MFEs is preferential.
		</p>
		<div class="footer">
		<p class="copyright">
			&copy; 2011-13, Till Biskup
		</p>
		<p class="lastchange">
			2013-07-15
		</p>
		</div>
	</body>
</html>
